## Вопросы для онбординга разработчиков на iOS проект

### Проблематика

Когда на проект, находящийся в разработке, приходит новый разработчик, у  него рано или поздно возникает множество вопросов, которые он либо задает другим разработчикам в не всегда удобное время, либо разбирается сам. Либо вовсе не разбирается (ведь правильный ответ бывает неочевидным) и делает что-то новое без учёта контекста, отчего нередко появляются баги, нарушается консистентность и запутывается код, а некоторые задачи выполняются дважды. 

Гораздо лучше сразу во время онбординга помочь новому разработчику разобраться с наибольшим число вопросов – это в конечном итоге сэкономит всем время. А документирование ответов хотя бы на часть из них – ещё лучше.

Итак, мы составили список всевозможных вопросов. Часть из них касается самого проекта – их разумно вести в README.md в репозитории самого проекта.

Часть касается команды, процессов и ролей. Эту часть не обязательно документировать, поскольку эта информация переменчива, но хотя бы кто-то один должен быть в контексте, а проводящему онбординг желательно предоставить эту информацию в устном виде.

### Вопросы

1. Есть ли скрипты стартовой настройки проекта? Например, устанавливающие внешние зависимости в систему, скачивающие библиотеки и Provisioning Profile.

2. Код на Objective-C/C/C++.
  - Много ли такого кода?
  - Надо ли его поддерживать, и если да, то какие есть рекомендации?
  - Есть ли процесс переписывания на Swift? Как он устроен, каков план?

3. Легаси-код.
  - Много ли его?
  - Есть ли план рефакторинга?

4. Модули.
  - Какие есть семантически отличающиеся модули в проекте? например, сетевой слой, хранилища данных, UI, бизнес-логика и т. п.
  - Как связаны модули друг с другом? Насколько они изолированы?
  - Отделены ли модули физически от основного таргета? Например, используются фреймворки, Development Pod’ы, SPM-пакеты и т. п.

5. Capabilities
  - Пуш-уведомления.
    - Как они настроены – ключами или сертификатами?
    - Какова цепочка доставки пушей пользователям? Например, свой сервер уведомлений их отсылает посредством Firebase Cloud Messaging.
    - Как отправить тестовый пуш? Как не отправить его случайно реальным пользователям?
  - App Groups.
    - Какие еще приложения находятся с этим в одной группе?
  - iCloud.
    - Что хранится? Как приложение работает с iCloud?
  - Wallet.
    - Какие виды карточек поддерживаются? 
    - Как устроен процесс создания Pass Package?
    - Если есть поддержка платежных карт, то кто владеет информацией об этом, кто владеет закрытым ключом и Certificate Signing Request (.csr)?
    - Поддерживается ли автоматическое обновление сущностей в Wallet?
  - Apple Pay.
    - Кто владеет закрытым ключом и Certificate Signing Request (.csr)? Какой процесс обновления Payment Processing Certificate?
    - Какая используется платежная система/платежный шлюз?
   - Используются ли URL-схемы?

6. Схемы сборки, таргеты и конфигурации.
  - Какие есть?
  - Для чего они предназначены, в чем отличия? [Пример таблицы описания конфигураций сборки](https://docs.google.com/spreadsheets/d/1giPv8cF8Z1J2gTS8YvVvIm7Z99PgEOWCNiKHsx6JAd4/edit#gid=0).
  - Есть ли кастомные флаги сборки в Build Settings или аргументах запуска и за что они отвечают?
  - Какие есть скрипты в Build Settings или настройках схем?

7. Code Sign
  - Где достать сертификаты/профили при необходимости?
  - Какие используются аккаунты, Developer или Enterprise?
  - Допустимо ли использовать Xcode Managed Profile?
  - Есть ли репозиторий сертификатов (например, управляемый через fastlane)?

8. Какие есть виды окружения (prod, stage и т. п.), как они друг с другом связаны и чем они отличаются?
  - Где данные статичные (моковые), а где изменяемые?
  - Где на тестовых окружениях можно столкнуться с реальными данными? Например, котировки акций или справочники стран.
  - Можно ли отменять изменения (например, сбросить данные пользователя или откатить транзакцию)?
  - Можно ли повлиять на prod действиями на preprod и наоборот?
  - Нужен ли VPN? Если да, то как подключаться?

9. Внешние зависимости (библиотеки).
  - Какие используются менеджеры зависимостей? Например, SPM, Cocoapods, Carthage, Manual и т. п.
  - Есть ли зависимости, которые находятся в приватных репозиториях? Как получить к ним доступ?
  - Как корректно обновить зависимости и ничего не сломать?
  - Есть ли зависимости, которые не рекомендуется обновлять, и почему? Например, бывает трудоемкая миграция на новую версию.
  - Как дебажить внешние зависимости, все ли они могут быть продебажены?
  - Какие есть дополнения и расширения? Например, плагины менеджера, патчи зависимостей, скрипты в Podfile и т. п.

10. Что может менять поведение приложения извне? Например, Feature Toggle, A/B тесты, Remote Config. Как получить к ним доступ и самому поменять установки?

11. Какая есть кодогенерация и как ей пользоваться?

12. Какие есть средства разработчика в приложении? Например, логи, дебаг-панель или сторибук. Как их открыть?

13. Какие есть внешние средства в помощь разработчику? Например, логи сервера, админка, Crashlytics, Sentry, SonarQube и т. п.

14. Какие есть тестовые пользователи?

15. Как тестировать фичи без создания реальных сущностей (покупки товара и т. п.) и проведения оплаты?

16. Как устроена аутентификация (токены, сессии, TTL, обновление и т. п.)? 
  - Что происходит при выходе из профиля, есть ли очистка данных? 
  - Есть ли у пользователей разные роли (уровни авторизации)?

17. Идентификация и пользовательские данные.
  - Какие данные об устройстве/пользователе отправляются на сервер? Например, локаль, identifierForVendor, APS-токен, FCM-токен, advertisingIdentifier и т. п. 
  - В какой момент они отправляются?
  - Как происходит работа по App Tracking Transparency?
  - Соответствует ли приложение GDPR?
  - Как идентифицируются клиенты и устройства?
  - Как происходит расследование инцидентов? Можно ли, например, для крэшлога найти серверные логи? Можно ли после жалобы пользователя найти его логи?

18. Есть ли на бэкенде детектор подозрительной активности, как устроен бан/разбан? Как действовать участнику команды разработки или тестирования в случае бана?

19. Какие особенности работы с сетью? 
  - Как устроен сетевой слой? 
    - Как и где устанавливаются заголовки запросов?
    - Где указаны хосты и endpoint’ы, как корректно добавить новый endpoint?
    - Как дебажить запросы?
  - Где в приложении посмотреть хороший пример запроса со всеми обработками?
  - Используются ли модели из сетевого слоя в других слоях (UI, Domain, Persistent)?
  - Есть ли работа с сокетами, gRPC и т. п.?

20. Сетевые ошибки.
  - Какие есть виды сетевых ошибок?
  - Какие виды обработки? По какому признаку приложение определяет, как именно реагировать на сетевую ошибку?
  - Отслеживает ли приложение статус сетевого подключения? Если да, то как?

21. Безопасность.
  - Есть ли аутентификация сервера на клиенте? Например, SSL-pinning. Если да, то это реализовано? Есть ли ротация сертификатов?
  - Какие настройки ATS и PFS?
  - Как прослушивать трафик во время тестирования, какие окружения/настройки это позволяют?
  - Если ли аутентификация клиента на сервере? Если да, то как?
  - Есть ли защита от дебаггера?
  - Как приложение работает на устройствах с Jailbreak?
  - Какие данные пользователя хранятся в открытом виде?
  - Используется ли в приложении шифрование или иные криптографические методы (работа с ЭЦП, хэширование и т. п.)? Для чего?

22. База данных.
  - Где в приложении посмотреть хороший пример работы с БД?
  - Что важного в ней хранится?
  - Как устроена миграция?
  - Есть ли шифрование?
  - Используются ли модели из БД в других слоях?
  - Есть ли база данных по умолчанию? Например, справочники, которые предустановлены в приложении. Как они обновляются впоследствии?

23. Какие данные хранятся в Keychain? Как правильно работать с хранилищем?

24. Какие данные хранятся в UserDefaults? Как правильно работать с хранилищем?

25. Дизайн-система.
  - Как реализован UI Kit?
    - Где находятся шрифты, цвета и прочие примитивы?
    - Где в приложении находятся компоненты из Kit’а?
    - Какие есть базовые UI компоненты НЕ из Kit’а и для чего каждый из них нужен?
  - Насколько точно его сущности совпадают с сущностями исходного UI Kit от дизайнеров?
  - Как им корректно пользоваться?
  - Есть ли поддержка Dark Mode или тем оформления?
  - Есть ли элементы Backend-Driven-UI и может ли что-то удаленно влиять на оформление в приложении?

26. Верстка.
  - Есть ли SwiftUI?
  - Как принято верстать на проекте? Например, кодом или в .xib’ах.
  - Если верстка кодом, то как именно? Например, якорями, фреймами или Texture.
  - Используются ли дополнительные средства для упрощения вёрстки? Например, SnapKit или свой набор расширений.
  - Примеры хорошо сделанных экранов/компонентов.

27. Какие архитектурные шаблоны используются?
  - Как устроен роутинг? Например, роутеры, координаторы или управляющие контроллеры.
  - Как устроен UI-слой? Например, MVVMC, VIP, VIPER.
  - Какие есть примеры хорошо реализованных экранов?
  - Каким образом переиспользуются данные на разных экранах?

28. Есть ли принятый командой Code Style Guide? Есть ли иные инструкции, гайды и Golden Rules, относящиеся к проекту?

29. Как проходить и проводить Code Review?

30. Как происходит обработка Universal Links/Deep Links?

31. Как происходит обработка пуш-уведомлений?

32. Локализация.
  - Какие языки поддерживаются? Какой из них по умолчанию?
  - Как устроена локализация? Например, отдельный файл .strings для каждого крупного пользовательского сценария и .stringsdict для форм исчисляемых, а также   -   - кодогенерация с SwiftGen с файлом конфигурации в корне проекта.
  - Управляется ли она извне? Например, Localise, Weblate и проч.
  - Кто отвечает за тексты/переводы? Какой процесс работы с переводами, как разработчику сделать фичу, требующую переводов?
  - Может ли язык в приложении быть изменен пользователем?

33. Какие есть скрипты кроме упомянутых выше? Для чего они? Как ими пользоваться?

34. git.
  - Какие есть защищенные ветки?
  - Какие правила использования git?
    - Правила нейминга веток/тегов, оформления commit message и т. п.
    - Как выпускаются релизы?
    - Как выпускаются хотфиксы?
  - Есть ли git hooks и для чего они?

35. Тестирование.
  - Есть ли Unit-тесты?
  - Есть ли UI-тесты?
  - Есть ли Snapshot-тесты?
  - Как корректно запускать тесты?
  - Есть ли устаревшие/неработающие тесты?
  - Есть ли планы тестирования?
  - Какова в целом стратегия по тестированию, какие стоит писать тесты и на что?
  - Пишет ли тесты QA? Если да, то как устроен процесс?

36. Как устроено версионирование?
  - Включена ли Apple Generic Versioning System?
  - Есть ли скрипты или команды для работы с версиями?
  - Какой принят формат версий?
  - По какому принципу поднимается Marketing Version? Какая сейчас версия в App Store?
  - Сбрасывается ли Build Version при изменении Marketing Version?

37. Локальные сборки.
  - Как собрать приложение на симулятор? Есть ли фреймворки, которые его не поддерживают, или схемы сборки, которые не скомпилируются на симулятор?
  - Как собрать приложение на устройство? Есть ли фреймворки, которые их не поддерживают, или схемы сборки, которые не скомпилируются на устройство?

38. Билд-сервер.
  - Как собирать на билд-сервере?
  - Есть ли ветки, в которых на каждый коммит делается сборка?
  - Как получать сборки от него?
  - Где посмотреть changelog и прочие события от БС?
  - Какие действия происходят на БС перед сборкой?
  - Меняет ли БС настройки проекта для сборки? Если да, то какие? Например, подставляет профили, меняет версию приложения и номер сборки, устанавливает с нуля зависимости и т. п.
  - Что происходит после успешной сборки? Например, формирование changelog, отправка сообщений в чаты, загрузка в сервисы дистрибуции, отправка сборки в тестирование, письма на почты участникам и т. п.
  - Редактирует ли БС репозиторий? Например, устанавливает теги в git, меняет номер сборки и т. д.
  - Нужно ли что-то делать разработчику после сборки? Например, поставить тег в git.

39. Как правильно сделать и выпустить релизную сборку?

40. Что ещё стоит знать о проекте?
